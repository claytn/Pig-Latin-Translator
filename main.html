<!DOCTYPE html>

<html lang='en'>
<meta charset="utf-8">
<style type="text/css">
html{
 background-color: #FEDCD2;

}
body{

}
.main{
 background-color: #FEDCD2;
margin-top: 5%;
font-family: 'Baloo Paaji', cursive;
}
.translateButton{
  margin-top: 2%;
  margin-top: 1%;
  margin-left: 1%;
}


</style>
 <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
 <title>Pig-Latin Translator</title>
<link href="https://fonts.googleapis.com/css?family=Baloo+Paaji" rel="stylesheet">
 <!-- Bootstrap -->
 <link href="css/bootstrap.min.css" rel="stylesheet">

 <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
 <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
 <!--[if lt IE 9]>
   <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
   <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
 <![endif]-->
</head>
<body class="container text-center main">
<img src="9iRnz6nie.png" width="20%" height="20%"/>
 <h1 style="font-size: 3em;">Pig-Latin Translator</h1>

 <textarea style="font-size: 2em;" class="form-control" rows="6" cols="10" id="enter"></textarea>

 <h3 style="display: inline-block; position:relative; top: 10px;"> Translate...</h3>
 <button onclick="toLatin();" style="background-color: #ff66b3; border: none;" type="button" class="btn btn-primary btn-lg translateButton">To Pig-Latin</button>
 <button onclick="toText();" style="background-color: #ff66b3; border: none;" type="button" class="btn btn-primary btn-lg translateButton">From Pig-Latin</button>


</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="jquery-1.12.2.min.js"></script>

<script type="text/javascript">

function exists(test){
  var alphaNum = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890'.split('');
  for(var i = 0; i < alphaNum.length; i++){
    if(alphaNum[i] === test){
      return true;
    }
  }
  return false;
}

function toLatin() {
    var str = (document.getElementById("enter").value).trim();
    var words = str.split(" ");

    for(i = 0; i < words.length; i++){
        let indexOfLastPunc = -1;
        for(var j = words[i].length-1; j >= 0; j--){
          //console.log(words[i].charAt(j));
          if(exists(words[i].charAt(j))){
            indexOfLastPunc = j;
            break;
          }
        }
        if(indexOfLastPunc === -1){
          continue;
        }
        else if(words[i].length > 0){
        words[i] = words[i].substring(1, indexOfLastPunc+1)+ words[i].charAt(0) + "ay" + words[i].substring(indexOfLastPunc+1, words[i].length);
        console.log(indexOfLastPunc);
        console.log(words[i].substring(1,indexOfLastPunc+1));
        }
    }
    str = "";
    for(i = 0; i < words.length; i++){
        str += words[i] + " ";
    }
    document.getElementById("enter").value = str;
}

function toText(){
    var str = (document.getElementById("enter").value).trim();
    var words = str.split(" ");
    for(i = 0; i< words.length; i++){
        if(words[i].length > 0){
        var indexOfLastCharacter;
        for(var j = words[i].length-1; j >= 0; j--){
          if(exists(words[i].charAt(j))){
            indexOfLastCharacter = j;
            break;
          }
        }
        words[i] = words[i].charAt(indexOfLastCharacter-2) + words[i].substring(0, indexOfLastCharacter-2)+words[i].substring(indexOfLastCharacter+1, words[i].length) ;
        }
    }
    str = "";
    for(i = 0; i < words.length; i++){
        str += words[i] + " ";
    }
    document.getElementById("enter").value = str;
}

function runMe(){
    console.log('runMe called.');
    if(($('input[id=input1]:checked').length > 0)){
        toLatin();
    }
    else if(($('input[id=input2]:checked').length > 0)){
        toText();
    }

}


</script>





</html>
